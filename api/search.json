[{"id":"1089c2219ae72b6f52934db473c1fad8","title":"安装python采集环境","content":"安装chrome浏览器 1、更新系统\nsudo apt-get update sudo apt upgrade\n2、安装依赖\nsudo apt-get install libxss1 libappindicator1 libindicator7 sudo apt-get install unzip sudo apt-get install dpkg sudo apt-get install xvfb sudo apt-get install python3-pip\n3、下载安装包\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n4、安装chrome\n安装chrome，安装过程中由于缺少一些依赖而报错是正常的\nsudo dpkg -i google-chrome-stable_current_amd64.deb\n#自动安装刚才缺少的依赖 sudo apt-get install -f\n查看google 浏览器\nwhereis google-chrome\n安装ChromeDriver\n3、下载安装包，这里要重点注意，一定要下载最新版本的chromedriver，这样才能确保跟chrome的版本匹配。去chromedriver官网 https://chromedriver.chromium.org/ 找到当前最新的版本号，如下图所示代表当前最新的版本号是81.0.4044.138\n下载的时候只需要输入下面的命令即可，如果最新版本不是81.0.4044.138，只需要把下面81.0.4044.138替换成新版本的具体版本号即可。\nwget -N https://chromedriver.storage.googleapis.com/107.0.5304.62/chromedriver_linux64.zip\n4、解压缩刚下载的安装包\nunzip chromedriver_linux64.zip\n5、移动\nsudo mv -f chromedriver &#x2F;usr&#x2F;local&#x2F;share&#x2F;chromedriver\n6、建立软链接\nsudo ln -s &#x2F;usr&#x2F;local&#x2F;share&#x2F;chromedriver &#x2F;usr&#x2F;local&#x2F;bin&#x2F;chromedriver sudo ln -s &#x2F;usr&#x2F;local&#x2F;share&#x2F;chromedriver &#x2F;usr&#x2F;bin&#x2F;chromedriver\n查看安装版本号 chromedriver –version\n安装python的selenium以及其他相关依赖\n2、安装 selenium\npip3 install selenium\n3、由于python自带的urllib3模块存在问题，所以需要更新或重新安装，否则等下在python里面使用chrome时会报错TypeError: urlopen() got multiple values for keyword argument ‘body’\nsudo pip3 install -U urllib3\npip3 install lxml pip3 install “urllib3&lt;&#x3D;1.24”\n测试通过python的selenium调用chrome\n1、输入python3命令进入python3的交互式界面\npython3\n后台运行命令：nohup python3 -u /home/wwwroot/start.py &gt; /dev/null 2&gt;&amp;1 &amp;\n\nps -ef | grep python\n","slug":"python-crawling","date":"2022-12-20T09:54:59.000Z","categories_index":"笔记","tags_index":"python,采集","author_index":"6ird"},{"id":"df96f11d8264a9a9b5c99533bffecbed","title":"使用acme申请google ssl证书","content":"首先登录 https://console.cloud.google.com/apis/library/publicca.googleapis.com?project=XXXXX 如果没有权限就点启用,然后点右上角的激活 cloud shell ,成功授权后在 Cloud Shell 获取需要签发的key 输入 gcloud beta publicca external-account-keys create\nCreated an external account key [b64MacKey: XXXXXXXXXXXX keyId: XXXXXXX]\nwget -O- https://get.acme.sh | sh\nsource ~&#x2F;.bashrc\nacme.sh –set-default-ca –server google\nacme.sh –register-account -m &#x77;&#119;&#119;&#x40;&#x6d;&#x61;&#105;&#108;&#46;&#x63;&#111;&#x6d; –server google–eab-kid XXXXXX–eab-hmac-key XXXX\nexport CF_Key&#x3D;”XXXX”\nexport CF_Email&#x3D;”&#119;&#x77;&#119;&#64;&#109;&#97;&#105;&#x6c;&#46;&#x63;&#x6f;&#x6d;“\nacme.sh –issue –dns dns_cf -d XXXX.com -d *.XXXX.com\nacme.sh –installcert -d XXXX.com–key-file &#x2F;home&#x2F;vhost&#x2F;cert&#x2F;XXXX.com&#x2F;XXXX.com.key–fullchain-file &#x2F;home&#x2F;vhost&#x2F;cert&#x2F;XXXX.com&#x2F;XXXX.com.cer–reloadcmd “&#x2F;usr&#x2F;sbin&#x2F;nginx -s reload -c &#x2F;etc&#x2F;nginx&#x2F;nginx.conf”\n 更新证书\nacme.sh –renew -d XXXX.com –force\n","slug":"acme-google-ssl","date":"2022-12-20T09:46:31.000Z","categories_index":"笔记","tags_index":"acme,google,ssl","author_index":"6ird"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post1$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server1$ hexo server\n\nMore info: Server\nGenerate static files1$ hexo generate\n\nMore info: Generating\nDeploy to remote sites1$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2022-11-21T07:04:21.362Z","categories_index":"默认","tags_index":"hexo,github,aurora","author_index":"6ird"}]