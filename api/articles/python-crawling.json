{"title":"安装python采集环境","uid":"1089c2219ae72b6f52934db473c1fad8","slug":"python-crawling","date":"2022-12-20T09:54:59.000Z","updated":"2022-12-20T09:59:12.861Z","comments":true,"path":"api/articles/python-crawling.json","keywords":null,"cover":"https://cover.png","content":"<p>安装chrome浏览器 1、更新系统</p>\n<p>sudo apt-get update sudo apt upgrade</p>\n<p>2、安装依赖</p>\n<p>sudo apt-get install libxss1 libappindicator1 libindicator7 sudo apt-get install unzip sudo apt-get install dpkg sudo apt-get install xvfb sudo apt-get install python3-pip</p>\n<p>3、下载安装包</p>\n<p>wget <a href=\"https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\">https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</a></p>\n<p>4、安装chrome</p>\n<p>安装chrome，安装过程中由于缺少一些依赖而报错是正常的</p>\n<p>sudo dpkg -i google-chrome-stable_current_amd64.deb</p>\n<p>#自动安装刚才缺少的依赖 sudo apt-get install -f</p>\n<p>查看google 浏览器</p>\n<p>whereis google-chrome</p>\n<p>安装ChromeDriver</p>\n<p>3、下载安装包，这里要重点注意，一定要下载最新版本的chromedriver，这样才能确保跟chrome的版本匹配。去chromedriver官网 <a href=\"https://chromedriver.chromium.org/\">https://chromedriver.chromium.org/</a> 找到当前最新的版本号，如下图所示代表当前最新的版本号是81.0.4044.138</p>\n<p>下载的时候只需要输入下面的命令即可，如果最新版本不是81.0.4044.138，只需要把下面81.0.4044.138替换成新版本的具体版本号即可。</p>\n<p>wget -N <a href=\"https://chromedriver.storage.googleapis.com/107.0.5304.62/chromedriver_linux64.zip\">https://chromedriver.storage.googleapis.com/107.0.5304.62/chromedriver_linux64.zip</a></p>\n<p>4、解压缩刚下载的安装包</p>\n<p>unzip chromedriver_linux64.zip</p>\n<p>5、移动</p>\n<p>sudo mv -f chromedriver &#x2F;usr&#x2F;local&#x2F;share&#x2F;chromedriver</p>\n<p>6、建立软链接</p>\n<p>sudo ln -s &#x2F;usr&#x2F;local&#x2F;share&#x2F;chromedriver &#x2F;usr&#x2F;local&#x2F;bin&#x2F;chromedriver sudo ln -s &#x2F;usr&#x2F;local&#x2F;share&#x2F;chromedriver &#x2F;usr&#x2F;bin&#x2F;chromedriver</p>\n<p>查看安装版本号 chromedriver –version</p>\n<p>安装python的selenium以及其他相关依赖</p>\n<p>2、安装 selenium</p>\n<p>pip3 install selenium</p>\n<p>3、由于python自带的urllib3模块存在问题，所以需要更新或重新安装，否则等下在python里面使用chrome时会报错TypeError: urlopen() got multiple values for keyword argument ‘body’</p>\n<p>sudo pip3 install -U urllib3</p>\n<p>pip3 install lxml pip3 install “urllib3&lt;&#x3D;1.24”</p>\n<p>测试通过python的selenium调用chrome</p>\n<p>1、输入python3命令进入python3的交互式界面</p>\n<p>python3</p>\n<pre><code>后台运行命令：nohup python3 -u /home/wwwroot/start.py &gt; /dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n<p>ps -ef | grep python</p>\n","feature":true,"text":"安装chrome浏览器 1、更新系统 sudo apt-get update sudo apt upgrade 2、安装依赖 sudo apt-get install libxss1 libappindicator1 libindicator7 sudo apt-get inst...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":2,"path":"api/categories/笔记.json"}],"tags":[{"name":"python","slug":"python","count":1,"path":"api/tags/python.json"},{"name":"采集","slug":"采集","count":1,"path":"api/tags/采集.json"}],"toc":"","author":{"name":"6ird","slug":"6ird","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"记录互联网的那些事儿！","socials":{"github":"https://github.com/TriDiamond","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"},"baidu":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"}}}},"mapped":true,"prev_post":{},"next_post":{"title":"使用acme申请google ssl证书","uid":"df96f11d8264a9a9b5c99533bffecbed","slug":"acme-google-ssl","date":"2022-12-20T09:46:31.000Z","updated":"2022-12-20T09:54:16.656Z","comments":true,"path":"api/articles/acme-google-ssl.json","keywords":null,"cover":"https://cover.png","text":"首先登录 https://console.cloud.google.com/apis/library/publicca.googleapis.com?project=XXXXX 如果没有权限就点启用,然后点右上角的激活 cloud shell ,成功授权后在 Cloud Shel...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":2,"path":"api/categories/笔记.json"}],"tags":[{"name":"acme","slug":"acme","count":1,"path":"api/tags/acme.json"},{"name":"google","slug":"google","count":1,"path":"api/tags/google.json"},{"name":"ssl","slug":"ssl","count":1,"path":"api/tags/ssl.json"}],"author":{"name":"6ird","slug":"6ird","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"记录互联网的那些事儿！","socials":{"github":"https://github.com/TriDiamond","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"},"baidu":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"}}}},"feature":true}}